<ui:composition template="../home.xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
	<ui:define name="mainContent">
		<h:form id="detailForm" prependId="false">

			<h:messages id="productDetailsMessages" errorStyle="color:red;margin:8px;" warnStyle="display:none;"/>
			<br />
			
			<h:panelGrid columns="2">
				<h:outputText value="#{productDetailsBean.product.name}" />
				<br/>
				<h:outputText value="#{productDetailsBean.product.description}" />
			  	
			  	$ <h:outputText value="#{productDetailsBean.product.price}" />
				
				<h:outputText id="stockQuantity" value="#{productDetailsBean.product.availableStockQuantity}" /> <h:outputLabel value="in stock" />
				
				<h:outputLabel value="Quantity" for="productQuantity"/> 
				
				<h:inputText id="productQuantity" value="#{productDetailsBean.productQuantity}"/>
				
	 			<h:inputHidden id="productId" value="#{productDetailsBean.productId}"/>	    
		    
				<h:commandButton value="Add to Cart">
					 <f:ajax execute="productQuantity productId" render="stockQuantity productQuantity productDetailsMessages" listener="#{productDetailsBean.addToCart}"/>
				</h:commandButton>
				
			</h:panelGrid>

			<h:outputLink value="productBrowser.xhtml"> Back </h:outputLink>

		</h:form>
	</ui:define>
</ui:composition>
